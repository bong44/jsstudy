<!DOCTYPE html>
<meta charset="UTF-8">
<script src="./jsp.js"></script>
<script>
    // 사용자가 지우려고 선택한 num 받아오기
    var v_nums = request.getParameterValues("nm_delNum"); // 배열
    var v_tblName="볼품게시";
    
    //localStorage에 저장된 데이타 가져오기
    var v_dataArrs = JSON.parse(localStorage.getItem(v_tblName));
    
    // 배열에서 받아온 v_nums값과 일치하는 글 삭제하기

        // 코드 작성 
    for (var i = 0; i < v_dataArrs.length; i++) {
        for (var j = 0; j < v_nums.length; j++) {
            if (v_dataArrs[i].num == v_nums[j]) {
                v_dataArrs.splice(i,1);
                i--;
                //중요!!!!! splice로 지우기를 할 때는 배열의 길이가 유동적이기 때문에 따로 빼주는 작업이 필요함
            }
        }
    }
    // 변경된 배열 덮어쓰기로 저장
    localStorage.setItem(v_tblName, JSON.stringify(v_dataArrs));

    
    location.href ="list.html";
</script>