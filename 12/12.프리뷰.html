<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 보안상의 이유로 사용자 컴퓨터레 파일을 쓰는 것은 불가
    읽기는 사용자가 선택해주는 파일만 읽기 가능 -->
    <img src="#" id="id_sajin" width="100" height="100" alt="이미지 있엉?"><br> <!--alt는 사진 없을 때 나오는-->
    <input type="file" id="id_select" value="" onchange="f_file()" accept=".jpg,.jpeg,.png,.gif"> <!--value값이 바뀔 때 발생 ..onchange-->
                                                                            <!--accept속성은 위처럼 써준 확장자만 불러올 수 있게 해줌-->
    <script>
        var v_file = document.getElementById("id_select");
        function f_file() {
            //files는 file객체들을 가진 배열이라고 생각하면 좋음
            console.log(v_file.files[0].name); //배열식으로 (json) 저장 됨 //files 속성 눈으로 확인!
            var v_file2 = v_file.files[0]; //file객체를 뽑아냄
            var v_fileReader = new FileReader(); //file 읽어줄 사람 필요
            // v_fileReader.readAsText(v_file2); //텍스트 파일을 읽어라(FileReader안의 구현되있는 메소드 실행)
            v_fileReader.readAsDataURL(v_file2); //요걸 위에꺼 보다 더 많이 씀, 가장 많이 씀, 거의 이거 밖에 안 씀
            //파일을 읽으면서 딴 짓을 하기위한 이벤트가 있음
            v_fileReader.onload = function () { //다 읽고 난 후에 뭘 하라 중요!!!!!!!onload!!!!!!!!!! 
                //result하는 속성에 그 값을 담아줌
                //   alert(v_fileReader.result);  
                document.getElementById("id_sajin").src = v_fileReader.result;
                //프리뷰는 이런 방식으로만 사용해서 이렇게만 알고있으면 하산!
            }
        }
    </script>
</body>
</html>